<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lobby</title>
  </head>

  <body>
    <a href="/jwt/logout">Logout</a>
    <br />
    <a href="/session">Session</a>
    <a href="/jwt">JWT</a>
    <h1>JWT Lobby</h1>
    <h3><b> %USER% </b> %ROLE%</h3>

    <script defer>
      setInterval(() => {
        fetch("http://localhost:8000/jwt/token", {
          method: "POST",
          body: JSON.stringify({ token: localStorage.getItem("token") }),
          headers: { "Content-Type": "application/json" },
        })
          .then((res) => res.json())
          .then((res) => localStorage.setItem("token", res.token))
          .catch((error) => console.error(error));
      }, 3000);
    </script>
  </body>
</html>
